<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Vue SPA - QR & Barcode</title>
  <script src="https://unpkg.com/vue@3"></script>
  <script src="https://unpkg.com/vuex@4"></script>
  <script src="https://unpkg.com/vue-router@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 30px; background: #f5f5f5; }
    input, select { margin: 10px; padding: 10px; font-size: 1em; }
    .color-section { margin: 30px 0; background: white; padding: 20px; border-radius: 10px; }
    .color-label { font-size: 1.5em; font-weight: bold; margin-bottom: 15px; }
    .number-buttons { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
    .num-btn {
      padding: 15px 20px;
      font-size: 1.1em;
      font-weight: bold;
      border: 2px solid #333;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s;
      min-width: 50px;
    }
    .num-btn:hover { transform: scale(1.1); }
    .num-btn:active { transform: scale(0.95); }
    .btn-wht { background: white; color: black; }
    .btn-blu { background: #2196F3; color: white; }
    .btn-grn { background: #4CAF50; color: white; }
    .btn-ylw { background: #FFEB3B; color: black; }
    .btn-red { background: #F44336; color: white; }
    svg, #qrcode, #qrcode-bin { margin-top: 20px; }
    #qrcode, #qrcode-bin { margin: 20px auto; width: fit-content; }
    nav a { margin: 0 10px; text-decoration: none; color: blue; padding: 5px 10px; }
    nav a.router-link-exact-active { font-weight: bold; color: white; background: #2196F3; border-radius: 5px; }
    .output-container { background: white; padding: 20px; border-radius: 10px; margin-top: 20px; }
  </style>
</head>
<body>
  <div id="app">
    <nav>
      <router-link to="/">Home</router-link>
      <router-link to="/bin">Bin</router-link>
      <router-link to="/about">About</router-link>
    </nav>
    <router-view></router-view>
    <hr>
<template>
  <div class="carousel">
    <div class="carousel-inner">

      <div class="carousel-item">
        <img src="https://res.cloudinary.com/mandmshop/image/upload/v1762628206/IMG-20251109-WA0001_pqz82h.jpg" />
      </div>

      <div class="carousel-item">
        <img src="https://res.cloudinary.com/mandmshop/image/upload/v1762628444/IMG-20251109-WA0000_blnqcp.jpg" />
      </div>

      <div class="carousel-item">
        <img src="https://res.cloudinary.com/mandmshop/image/upload/v1752402615/IMG_20250713_155653_pal2de.jpg" />
      </div>

      <div class="carousel-item">
        <img src="https://res.cloudinary.com/mandmshop/image/upload/v1761308356/IMG-20251024-WA0013_serib8.jpg" />
      </div>

    </div>
  </div>
</template>

<style scoped>
.carousel {
  width: 320px;
  height: 420px;
  margin: 40px auto;
  overflow: hidden;
  border-radius: 20px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.3);
}

.carousel-inner {
  display: flex;
  width: 400%;
  height: 100%;
  animation: slide 12s infinite;
}

.carousel-item {
  width: 100%;
  height: 100%;
}

.carousel-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 20px;
}

/* Auto slide */
@keyframes slide {
  0%, 20%   { transform: translateX(0%); }
  25%, 45%  { transform: translateX(-100%); }

  50%, 70%  { transform: translateX(-200%); }

  75%, 100% { transform: translateX(-300%); }
}
</style>

  <footer>
    <iframe
      width="300"
      height="50"
      src="https://www.youtube.com/embed/WymKNMXDEpI?autoplay=1&mute=1"
      title="YouTube Shorts"
      allow="autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen>
    </iframe>
  </footer>
  </div>

  <script>
    const { createApp, ref, computed, watch, onMounted } = Vue;
    const { createStore } = Vuex;
    const { createRouter, createWebHashHistory } = VueRouter;

    // Vuex Store
    const store = createStore({
      state() {
        return {
          inputText: '',
          selectedOption: 'HYD_SRB',
          finalText: ''
        };
      },
      mutations: {
        setInputText(state, val) { state.inputText = val; },
        setSelectedOption(state, val) { state.selectedOption = val; },
        setFinalText(state, text) { state.finalText = text; }
      }
    });

    // Home Page (Original)
    const Home = {
      template: `
        <div>
          <h2>QR & Barcode Generator</h2>
          <input v-model="inputText" placeholder="Enter text" />
          <select v-model="selectedOption">
            <option v-for="opt in options" :key="opt" :value="opt">{{ opt }}</option>
          </select>

          <div v-if="finalText">
            <h3>QR Code</h3>
            <div id="qrcode"></div>

            <h3>Barcode</h3>
            <svg ref="barcode"></svg>

            <p><strong>Text:</strong> {{ finalText }}</p>
          </div>
        </div>
      `,
      setup() {
        const barcode = ref(null);
        const inputText = computed({
          get: () => store.state.inputText,
          set: val => store.commit('setInputText', val)
        });
        const selectedOption = computed({
          get: () => store.state.selectedOption,
          set: val => store.commit('setSelectedOption', val)
        });
        const finalText = computed(() => selectedOption.value + inputText.value);

        const options = [
          'HYD_SRB', 'ZEP_SRB_', '08_SRB_','09_SRB_','10_SRB_',
          'HYD_RB',
          '',
          'HYD_IB','ZEP_IB_','08_IB_', '09_IB_','10_IB_',
          'ZEP_RB_', 
          'ZEP_MIB_','08_MIB_', '09_MIB_', '10_MIB_', 
          'ZEP_IB', 
        ];

        const generateQRCode = (text) => {
          const qrEl = document.getElementById("qrcode");
          if (qrEl) {
            qrEl.innerHTML = "";
            new QRCode(qrEl, {
              text: text,
              width: 150,
              height: 150,
              correctLevel: QRCode.CorrectLevel.H
            });
          }
        };

        watch(finalText, (newVal) => {
          if (newVal) {
            generateQRCode(newVal);
            if (barcode.value) {
              JsBarcode(barcode.value, newVal, {
                format: 'CODE128',
                displayValue: true,
                lineColor: '#000',
                width: 2,
                height: 80
              });
            }
          }
        });

        onMounted(() => {
          if (finalText.value) {
            generateQRCode(finalText.value);
            JsBarcode(barcode.value, finalText.value, {
              format: 'CODE128',
              displayValue: true,
              lineColor: '#000',
              width: 2,
              height: 80
            });
          }
        });

        return { inputText, selectedOption, options, barcode, finalText };
      }
    };

    // Bin Page (Color Buttons)
    const Bin = {
      template: `
        <div>
          <h2>Bin Color Generator</h2>
          
          <div class="color-section">
            <div class="color-label" style="color: black;">WHT (White)</div>
            <div class="number-buttons">
              <button v-for="num in 9" :key="num" 
                      class="num-btn btn-wht" 
                      @click="generateCode('WHT', num)">
                {{ num }}
              </button>
            </div>
          </div>

          <div class="color-section">
            <div class="color-label" style="color: #2196F3;">BLU (Blue)</div>
            <div class="number-buttons">
              <button v-for="num in 9" :key="num" 
                      class="num-btn btn-blu" 
                      @click="generateCode('BLU', num)">
                {{ num }}
              </button>
            </div>
          </div>

          <div class="color-section">
            <div class="color-label" style="color: #4CAF50;">GRN (Green)</div>
            <div class="number-buttons">
              <button v-for="num in 9" :key="num" 
                      class="num-btn btn-grn" 
                      @click="generateCode('GRN', num)">
                {{ num }}
              </button>
            </div>
          </div>

          <div class="color-section">
            <div class="color-label" style="color: #F9A825;">YLW (Yellow)</div>
            <div class="number-buttons">
              <button v-for="num in 9" :key="num" 
                      class="num-btn btn-ylw" 
                      @click="generateCode('YLW', num)">
                {{ num }}
              </button>
            </div>
          </div>

          <div class="color-section">
            <div class="color-label" style="color: #F44336;">RED (Red)</div>
            <div class="number-buttons">
              <button v-for="num in 9" :key="num" 
                      class="num-btn btn-red" 
                      @click="generateCode('RED', num)">
                {{ num }}
              </button>
            </div>
          </div>

          <div v-if="finalText" class="output-container">
            <h3>Generated Code: <strong>{{ finalText }}</strong></h3>
            
            <h3>QR Code</h3>
            <div id="qrcode-bin"></div>

            <h3>Barcode</h3>
            <svg ref="barcode"></svg>
          </div>
        </div>
      `,
      setup() {
        const barcode = ref(null);
        const finalText = computed(() => store.state.finalText);

        const generateCode = (color, num) => {
          const code = `${color}_${num}`;
          store.commit('setFinalText', code);
          
          generateQRCode(code);
          if (barcode.value) {
            JsBarcode(barcode.value, code, {
              format: 'CODE128',
              displayValue: true,
              lineColor: '#000',
              width: 2,
              height: 80
            });
          }
        };

        const generateQRCode = (text) => {
          const qrEl = document.getElementById("qrcode-bin");
          if (qrEl) {
            qrEl.innerHTML = "";
            new QRCode(qrEl, {
              text: text,
              width: 150,
              height: 150,
              correctLevel: QRCode.CorrectLevel.H
            });
          }
        };

        return { finalText, barcode, generateCode };
      }
    };

    // About Page
    const About = {
      template: `
        <div>
          <h2>About This App</h2>
          <p><strong>Home:</strong> Original QR & Barcode generator with text input and dropdown.</p>
          <p><strong>Bin:</strong> Color-based generator with numbered buttons (1-9).</p>
          <p>This Vue 3 SPA uses qrcode.js and JsBarcode.</p>
        </div>
      `
    };

    // Router
    const routes = [
      { path: '/', component: Home },
      { path: '/bin', component: Bin },
      { path: '/about', component: About }
    ];

    const router = createRouter({
      history: createWebHashHistory(),
      routes
    });

    // App
    const app = createApp({});
    app.use(store);
    app.use(router);
    app.mount('#app');
  </script>
</body>
</html>
